<app-navbar-menu></app-navbar-menu>

<div class="container">
    <div align="center">
        <button class="btn-dark btn-sm" (click)="showForm=!showForm"><i class="fa fa-plus"></i> Faire Operation</button>
    </div>
    &nbsp;
    <div *ngIf="!showForm" align="center">
        <input (keyup)="searchOperation()" [(ngModel)]="searchText" type="text" class="form-control"
            placeholder="Search...">

        <table class="table table-bordered">
            <tr>
                <th>Date</th>
                <th>Libelle</th>
                <th>Produit</th>

                <th>Nombre</th>
                <th>Stock</th>
                <th>Responsable</th>
            </tr>
            <tr *ngFor="let operation of operations">
                <td>{{operation.date}}</td>
                <td>{{operation.libelle}}</td>
                <td>{{operation.unites}}</td>

                <td>{{operation.retrait}}</td>
                <td>{{operation.solde}}</td>
                <td>{{operation.ref}}</td>

            </tr>
        </table>
    </div>

    <div class="row my-4" *ngIf="showForm" name="myForm">

        <div class="col-md-6 mx-auto">

            <div class="form-group">
                <!-- <input type="text" [(ngModel)]="myOperation.nomProduit" placeholder="Nom Produit"  class="form-control"> 
         -->
                <select class="form-control" [(ngModel)]="myOperation.nomProduit">
                    <option [value]="prod.nomProduit" *ngFor="let prod of listProduits">
                        {{prod.nomProduit}}
                    </option>
                </select>
            </div>
            <div class="form-group"> <input type="number" [(ngModel)]="myOperation.quantite" placeholder="Quantite"
                    class="form-control"> </div>
            <div class="form-group"><input type="date" [(ngModel)]="myOperation.date" placeholder="Date Insertion"
                    class="form-control"></div>
            <div class="form-group"> <input type="text" [(ngModel)]="myOperation.responsable" placeholder="Responsable"
                    class="form-control"> </div>
            <div class="form-group"> <textarea type="text" [(ngModel)]="myOperation.libelle"
                    placeholder="Commentaire..." class="form-control"> </textarea></div>
            <div class="form-group"> <button (click)="RetourOperation(myOperation)" class="btn btn-outline-success">
                    Retour</button>&nbsp;
                <button (click)="RetraitOperation(myOperation)" class="btn btn-outline-danger">Retrait</button>
            </div>

        </div>


    </div>
</div>